<navigation-bar id="navigationBar" title="æ·»åŠ æé†’" color="black" background="#FFF"></navigation-bar>
<!-- pages/addReminder/addReminder.wxml -->
<view class="page-container">
  <!-- Main Content -->
  <scroll-view class="main-content" scroll-y="true" enhanced="true" show-scrollbar="false">
    
    <!-- å½“å‰å¯¹è±¡å¡ç‰‡ -->
    <view class="target-card">
      <view class="target-info">
        <image class="target-avatar" src="{{currentTarget.avatar || '/images/avatar-default.png'}}" mode="aspectFill"></image>
        <view class="target-details">
          <view class="target-name-row">
            <text class="target-name">{{currentTarget.name}}</text>
            <text class="target-badge">å½“å‰å¯¹è±¡</text>
          </view>
          <text class="target-desc">æ­£åœ¨ä¸º{{currentTarget.name}}è®¾ç½®æé†’</text>
        </view>
      </view>
      <view class="switch-btn" bindtap="onSwitchTarget">
        <text class="switch-icon">ğŸ”„</text>
        <text class="switch-text">åˆ‡æ¢</text>
      </view>
    </view>

    <!-- æç¤ºä¿¡æ¯ -->
    <view class="tip-banner">
      <text>è®¾ç½®ä¸€ä¸ªå°æé†’ï¼Œè®©{{currentTarget.name}}æ›´å®‰å¿ƒ ğŸ’›</text>
    </view>

    <!-- æé†’ç±»å‹ -->
    <view class="form-section">
      <text class="section-label">æé†’ç±»å‹</text>
      <view class="type-selector" bindtap="onSelectType">
        <text class="type-icon">{{reminderTypes[selectedTypeIndex].icon}}</text>
        <text class="type-text">{{reminderTypes[selectedTypeIndex].name}}</text>
        <text class="type-arrow">â€º</text>
      </view>
    </view>

    <!-- æ—¶é—´ä¸å‘¨æœŸ -->
    <view class="form-section">
      <text class="section-label">æ—¶é—´ä¸å‘¨æœŸ</text>
      <view class="time-grid">
        <picker mode="time" value="{{selectedTime}}" bindchange="onTimeChange" class="time-picker-wrapper">
          <view class="time-card">
            <text class="time-label">æ‰§è¡Œæ—¶é—´</text>
            <view class="time-value">
              <text class="time-icon">â°</text>
              <text class="time-text">{{selectedTime}}</text>
            </view>
          </view>
        </picker>
        <view class="time-card" bindtap="onSelectFrequency">
          <text class="time-label">é‡å¤é¢‘ç‡</text>
          <view class="freq-value">
            <text class="freq-icon">ğŸ“…</text>
            <text class="freq-text">{{frequencyOptions[selectedFreqIndex].name}}</text>
          </view>
        </view>
      </view>
      <view class="freq-buttons">
        <view 
          wx:for="{{frequencyOptions}}" 
          wx:key="index"
          class="freq-btn {{selectedFreqIndex === index ? 'freq-btn-active' : ''}}"
          bindtap="onFreqSelect"
          data-index="{{index}}"
        >
          <text>{{item.name}}</text>
        </view>
      </view>
    </view>

    <!-- å¤‡æ³¨ä¿¡æ¯ -->
    <view class="form-section">
      <text class="section-label">å¤‡æ³¨ä¿¡æ¯ (å¯é€‰)</text>
      <textarea 
        class="remark-input"
        placeholder="ä¾‹å¦‚ï¼šé¥­ååŠå°æ—¶æœç”¨ï¼Œé…æ¸©å¼€æ°´..."
        value="{{remark}}"
        bindinput="onRemarkInput"
        maxlength="200"
      ></textarea>
    </view>

  </scroll-view>

  <!-- Footer -->
  <view class="footer">
    <view class="submit-btn" bindtap="onSubmit">
      <text class="submit-icon">âœ¨</text>
      <text class="submit-text">ç¡®è®¤æ·»åŠ æé†’</text>
    </view>
  </view>
</view>
