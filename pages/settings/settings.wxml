<navigation-bar title="设置" back="{{true}}" background="#f8f8f6"></navigation-bar>

<scroll-view class="settings-page" scroll-y show-scrollbar="{{false}}">
  <view class="content-wrapper">
    <!-- 用户信息卡片 -->
    <view class="section-card profile-card" hover-class="active-scale">
      <view class="avatar-box">
        <text class="material-icons">person</text>
      </view>
      <view class="profile-info">
        <view class="name-row">
          <text class="user-name">{{userInfo.name}}</text>
          <text class="role-tag">{{userInfo.role}}</text>
        </view>
        <text class="user-phone">{{userInfo.phone}}</text>
      </view>
      <text class="material-icons arrow-icon">chevron_right</text>
    </view>

    <!-- 家人管理 -->
    <view class="section-group">
      <view class="section-header">
        <text class="section-title">家人管理</text>
        <view class="add-btn" bindtap="onAddFamily">
          <text class="material-icons add-icon">add</text>
          <text>添加</text>
        </view>
      </view>
      <view class="list-container">
        <view wx:for="{{familyList}}" wx:key="id" class="list-item" hover-class="item-active">
          <view class="item-avatar"></view>
          <view class="item-info">
            <text class="item-name">{{item.name}}</text>
            <text class="item-relation" style="color: {{item.relationColor}}; background: {{item.relationColor}}10;">{{item.relation}}</text>
          </view>
          <text class="material-icons arrow-icon">chevron_right</text>
        </view>
      </view>
    </view>

    <!-- 通知与提醒 -->
    <view class="section-group">
      <text class="section-title">通知与提醒</text>
      <view class="list-container">
        <view class="list-item no-arrow">
          <view class="item-left">
            <text class="material-icons icon-orange">notifications_active</text>
            <text class="item-text">服药提醒</text>
          </view>
          <switch checked="{{remindEnabled}}" bindchange="onRemindChange" color="#ecb613" />
        </view>
        <view class="list-item no-arrow">
          <view class="item-left">
            <text class="material-icons icon-blue">emergency_home</text>
            <text class="item-text">异常预警</text>
          </view>
          <switch checked="{{warningEnabled}}" bindchange="onWarningChange" color="#ecb613" />
        </view>
      </view>
    </view>

    <!-- 其他选项 -->
    <view class="list-container margin-top-lg">
      <view class="list-item" bindtap="onAboutUs" hover-class="item-active">
        <text class="item-text">关于我们</text>
        <text class="material-icons arrow-icon">chevron_right</text>
      </view>
      <view class="list-item" bindtap="onLogout" hover-class="item-active">
        <text class="item-text text-red">退出登录</text>
      </view>
    </view>

    <!-- 页脚 -->
    <view class="footer">
      <text class="material-icons footer-icon filled">favorite</text>
      <text class="footer-motto">“用爱温暖每一份照护”</text>
      <text class="footer-version">Version {{version}}</text>
    </view>

    <!-- 底部导航 -->
  <tabbar activeTab="settings" />
  </view>
</scroll-view>